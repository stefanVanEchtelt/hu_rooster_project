<link rel="import" href="../bower_components/polymer/polymer-element.html">

<dom-module id="popup-beter">
  <template>
    <style>

      #beter_melden_popup_container {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        padding-top: 0px;
        z-index: 1; /* Sit on top */
        background-color: white; /* Fallback color */
        border-style: solid;
        border-width: 2px;
        top: 10%;
        left: 20%;
      }

      h1 {
        position: relative;
        padding-left: 10px;
        margin-top: 0px;
        margin-bottom: 0px;
        background-color: #4286f4;
        color: white;
      }

      p {
        margin-top: 0px;
        margin-bottom: 0px;
        margin-left: 10px;
        margin-right: 10px;
      }

      #beter_melden_buttons {
        margin-left: 10px;
        margin-top: 10px;
        margin-bottom: 5px;
      }

    </style>
    <button id="beter_melden_open_button" raised on-click="openHandler">Beter melden</button>
    <div id="beter_melden_popup_container">
      <h1>Beter melden</h1>
      <form id="beter_melden_form" onsubmit="return false">
        <p>
          Vanaf wanneer wil je beter gemeld worden? <br>
          <input type="radio" id="beter_vandaag" raised on-click="vandaagHandler" value="nee" name="beter_melden_datum">Vandaag</input><br>
          <input type="radio" id="beter_morgen" raised on-click="morgenHandler" value="nee" name="beter_melden_datum">Morgen</input><br>
          <input type="radio" id="beter_anders" raised on-click="andersHandler" value="nee" name="beter_melden_datum">Anders namelijk op: </input>
          <input type="date" id="beter_melden_datumveld"></input> vanaf:
          <input type="time" id="beter_melden_tijdveld">
        </input>
        </p>
        <div id="beter_melden_buttons">
          <button raised on-click="cancelHandler">Annuleren</button>
          <button type="submit" raised on-click="submitHandler">Verzenden</button>
        </div>
      </form>
    </div>
  </template>

  <script>
    class PopupBeter extends Polymer.Element {
      static get is() { return 'popup-beter'; }
      static get properties() {
        return {
          beterDatum: {
            type: Date
          },
        };
      }
      openHandler(event) {
        var popup = this.root.querySelector('#beter_melden_popup_container');
        popup.style.display = "block";
      }

      vandaagHandler(event) {
        this.root.querySelector('#beter_vandaag').value = "ja";
        this.root.querySelector('#beter_morgen').value = "nee";
        this.root.querySelector('#beter_anders').value = "nee";
      }

      morgenHandler(event) {
        this.root.querySelector('#beter_vandaag').value = "nee";
        this.root.querySelector('#beter_morgen').value = "ja";
        this.root.querySelector('#beter_anders').value = "nee";
      }

      andersHandler(event) {
        var datumString = this.root.querySelector('#beter_melden_datumveld').value;
        this.root.querySelector('#beter_vandaag').value = "nee";
        this.root.querySelector('#beter_morgen').value = "nee";
        this.root.querySelector('#beter_anders').value = "ja";
      }

      cancelHandler(event) {
        var popup = this.root.querySelector('#beter_melden_popup_container');
        popup.style.display = "none";
      }

      submitHandler(event) {
        console.log(this.root.querySelector('#beter_vandaag').value);
        console.log(this.root.querySelector('#beter_morgen').value);
        console.log(this.root.querySelector('#beter_anders').value);
        console.log(this.root.querySelector('#beter_melden_datumveld').value)
      }
    }

    window.customElements.define(PopupBeter.is, PopupBeter);
  </script>
</dom-module>
